/**
 * Created by vlad on 12.05.2016.
 */
var areas = [
    {
        "coords": [
            [
                25.958263,
                44.339036
            ],
            [
                25.958263,
                44.3788358
            ],
            [
                26.0116916,
                44.3788358
            ],
            [
                26.0116916,
                44.339036
            ],
            [
                25.958263,
                44.339036
            ]
        ],
        "centroid": [
            25.984977299999997,
            44.3589359
        ],
        "area": 18804513.565823916,
        "population": 4442.044,
        "distance": 14766.522192400682
    },
    {
        "coords": [
            [
                25.958263,
                44.3788358
            ],
            [
                25.958263,
                44.418635599999995
            ],
            [
                26.0116916,
                44.418635599999995
            ],
            [
                26.0116916,
                44.3788358
            ],
            [
                25.958263,
                44.3788358
            ]
        ],
        "area": 18804513.565823916,
        "centroid": [
            25.984977299999997,
            44.398735699999996
        ],
        "population": 18532.51,
        "distance": 11235.925057155157
    },
    {
        "coords": [
            [
                25.958263,
                44.4186356
            ],
            [
                25.958263,
                44.4584354
            ],
            [
                26.0116916,
                44.4584354
            ],
            [
                26.0116916,
                44.4186356
            ],
            [
                25.958263,
                44.4186356
            ]
        ],
        "centroid": [
            25.984977299999997,
            44.4385355
        ],
        "area": 18804513.565823916,
        "population": 59043.93,
        "distance": 8579.776331259385
    },
    {
        "coords": [
            [
                25.958263,
                44.4584354
            ],
            [
                25.958263,
                44.498235199999996
            ],
            [
                26.0116916,
                44.498235199999996
            ],
            [
                26.0116916,
                44.4584354
            ],
            [
                25.958263,
                44.4584354
            ]
        ],
        "centroid": [
            25.984977299999997,
            44.4783353
        ],
        "area": 18804513.565823916,
        "population": 23131.7,
        "distance": 7755.6319969416845
    },
    {
        "coords": [
            [
                25.958263,
                44.4982352
            ],
            [
                25.958263,
                44.538035
            ],
            [
                26.0116916,
                44.538035
            ],
            [
                26.0116916,
                44.4982352
            ],
            [
                25.958263,
                44.4982352
            ]
        ],
        "centroid": [
            25.984977299999997,
            44.5181351
        ],
        "area": 18804513.565823916,
        "population": 7705.392,
        "distance": 9265.948911074645
    },
    {
        "coords": [
            [
                26.0116916,
                44.339036
            ],
            [
                26.0116916,
                44.3788358
            ],
            [
                26.0651202,
                44.3788358
            ],
            [
                26.0651202,
                44.339036
            ],
            [
                26.0116916,
                44.339036
            ]
        ],
        "centroid": [
            26.0384059,
            44.3589359
        ],
        "area": 18804513.565823916,
        "population": 2943.559,
        "distance": 13055.03536996837
    },
    {
        "coords": [
            [
                26.0116916,
                44.3788358
            ],
            [
                26.0116916,
                44.418635599999995
            ],
            [
                26.0651202,
                44.418635599999995
            ],
            [
                26.0651202,
                44.3788358
            ],
            [
                26.0116916,
                44.3788358
            ]
        ],
        "centroid": [
            26.0384059,
            44.398735699999996
        ],
        "area": 18804513.565823916,
        "population": 76036.49,
        "distance": 8869.168855548793
    },
    {
        "coords": [
            [
                26.0116916,
                44.4186356
            ],
            [
                26.0116916,
                44.4584354
            ],
            [
                26.0651202,
                44.4584354
            ],
            [
                26.0651202,
                44.4186356
            ],
            [
                26.0116916,
                44.4186356
            ]
        ],
        "centroid": [
            26.0384059,
            44.4385355
        ],
        "area": 18804513.565823916,
        "population": 100840.1,
        "distance": 5105.006848776525
    },
    {
        "coords": [
            [
                26.0116916,
                44.4584354
            ],
            [
                26.0116916,
                44.498235199999996
            ],
            [
                26.0651202,
                44.498235199999996
            ],
            [
                26.0651202,
                44.4584354
            ],
            [
                26.0116916,
                44.4584354
            ]
        ],
        "centroid": [
            26.0384059,
            44.4783353
        ],
        "area": 18804513.565823916,
        "population": 79680.7,
        "distance": 3553.978717522304
    },
    {
        "coords": [
            [
                26.0116916,
                44.4982352
            ],
            [
                26.0116916,
                44.538035
            ],
            [
                26.0651202,
                44.538035
            ],
            [
                26.0651202,
                44.4982352
            ],
            [
                26.0116916,
                44.4982352
            ]
        ],
        "centroid": [
            26.0384059,
            44.5181351
        ],
        "area": 18804513.565823916,
        "population": 3721.506,
        "distance": 6194.446350068033
    },
    {
        "coords": [
            [
                26.0651202,
                44.339036
            ],
            [
                26.0651202,
                44.3788358
            ],
            [
                26.1185488,
                44.3788358
            ],
            [
                26.1185488,
                44.339036
            ],
            [
                26.0651202,
                44.339036
            ]
        ],
        "centroid": [
            26.091834499999997,
            44.3589359
        ],
        "area": 18804513.565823916,
        "population": 97995.6,
        "distance": 12602.90017980353
    },
    {
        "coords": [
            [
                26.0651202,
                44.3788358
            ],
            [
                26.0651202,
                44.418635599999995
            ],
            [
                26.1185488,
                44.418635599999995
            ],
            [
                26.1185488,
                44.3788358
            ],
            [
                26.0651202,
                44.3788358
            ]
        ],
        "centroid": [
            26.091834499999997,
            44.398735699999996
        ],
        "area": 18804513.565823916,
        "population": 126082.6,
        "distance": 8189.578001222875
    },
    {
        "coords": [
            [
                26.0651202,
                44.4186356
            ],
            [
                26.0651202,
                44.4584354
            ],
            [
                26.1185488,
                44.4584354
            ],
            [
                26.1185488,
                44.4186356
            ],
            [
                26.0651202,
                44.4186356
            ]
        ],
        "centroid": [
            26.091834499999997,
            44.4385355
        ],
        "area": 18804513.565823916,
        "population": 125992.8,
        "distance": 3804.7361957700714
    },
    {
        "coords": [
            [
                26.0651202,
                44.4584354
            ],
            [
                26.0651202,
                44.498235199999996
            ],
            [
                26.1185488,
                44.498235199999996
            ],
            [
                26.1185488,
                44.4584354
            ],
            [
                26.0651202,
                44.4584354
            ]
        ],
        "centroid": [
            26.091834499999997,
            44.4783353
        ],
        "area": 18804513.565823916,
        "population": 117927,
        "distance": 1026.4414186783197
    },
    {
        "coords": [
            [
                26.0651202,
                44.4982352
            ],
            [
                26.0651202,
                44.538035
            ],
            [
                26.1185488,
                44.538035
            ],
            [
                26.1185488,
                44.4982352
            ],
            [
                26.0651202,
                44.4982352
            ]
        ],
        "centroid": [
            26.091834499999997,
            44.5181351
        ],
        "area": 18804513.565823916,
        "population": 38613.63,
        "distance": 5177.053335425013
    },
    {
        "coords": [
            [
                26.1185488,
                44.339036
            ],
            [
                26.1185488,
                44.3788358
            ],
            [
                26.1719774,
                44.3788358
            ],
            [
                26.1719774,
                44.339036
            ],
            [
                26.1185488,
                44.339036
            ]
        ],
        "centroid": [
            26.1452631,
            44.3589359
        ],
        "area": 18804513.565823916,
        "population": 107864.8,
        "distance": 13536.898311375307
    },
    {
        "coords": [
            [
                26.1185488,
                44.3788358
            ],
            [
                26.1185488,
                44.418635599999995
            ],
            [
                26.1719774,
                44.418635599999995
            ],
            [
                26.1719774,
                44.3788358
            ],
            [
                26.1185488,
                44.3788358
            ]
        ],
        "centroid": [
            26.1452631,
            44.398735699999996
        ],
        "area": 18804513.565823916,
        "population": 126082.6,
        "distance": 9563.843985591258
    },
    {
        "coords": [
            [
                26.1185488,
                44.4186356
            ],
            [
                26.1185488,
                44.4584354
            ],
            [
                26.1719774,
                44.4584354
            ],
            [
                26.1719774,
                44.4186356
            ],
            [
                26.1185488,
                44.4186356
            ]
        ],
        "centroid": [
            26.1452631,
            44.4385355
        ],
        "area": 18804513.565823916,
        "population": 124125.3,
        "distance": 6233.565160941783
    },
    {
        "coords": [
            [
                26.1185488,
                44.4584354
            ],
            [
                26.1185488,
                44.498235199999996
            ],
            [
                26.1719774,
                44.498235199999996
            ],
            [
                26.1719774,
                44.4584354
            ],
            [
                26.1185488,
                44.4584354
            ]
        ],
        "centroid": [
            26.1452631,
            44.4783353
        ],
        "area": 18804513.565823916,
        "population": 27331.39,
        "distance": 5041.6549264571695
    },
    {
        "coords": [
            [
                26.1185488,
                44.4982352
            ],
            [
                26.1185488,
                44.538035
            ],
            [
                26.1719774,
                44.538035
            ],
            [
                26.1719774,
                44.4982352
            ],
            [
                26.1185488,
                44.4982352
            ]
        ],
        "centroid": [
            26.1452631,
            44.5181351
        ],
        "area": 18804513.565823916,
        "population": 5859.239,
        "distance": 7151.920100645306
    },
    {
        "coords": [
            [
                26.1719774,
                44.339036
            ],
            [
                26.1719774,
                44.3788358
            ],
            [
                26.225406,
                44.3788358
            ],
            [
                26.225406,
                44.339036
            ],
            [
                26.1719774,
                44.339036
            ]
        ],
        "centroid": [
            26.198691699999998,
            44.3589359
        ],
        "area": 18804513.565823916,
        "population": 7398.186,
        "distance": 15610.173188146355
    },
    {
        "coords": [
            [
                26.1719774,
                44.3788358
            ],
            [
                26.1719774,
                44.418635599999995
            ],
            [
                26.225406,
                44.418635599999995
            ],
            [
                26.225406,
                44.3788358
            ],
            [
                26.1719774,
                44.3788358
            ]
        ],
        "centroid": [
            26.198691699999998,
            44.398735699999996
        ],
        "area": 18804513.565823916,
        "population": 111788.1,
        "distance": 12322.983308327632
    },
    {
        "coords": [
            [
                26.1719774,
                44.4186356
            ],
            [
                26.1719774,
                44.4584354
            ],
            [
                26.225406,
                44.4584354
            ],
            [
                26.225406,
                44.4186356
            ],
            [
                26.1719774,
                44.4186356
            ]
        ],
        "centroid": [
            26.198691699999998,
            44.4385355
        ],
        "area": 18804513.565823916,
        "population": 40730.88,
        "distance": 9960.1724792256
    },
    {
        "coords": [
            [
                26.1719774,
                44.4584354
            ],
            [
                26.1719774,
                44.498235199999996
            ],
            [
                26.225406,
                44.498235199999996
            ],
            [
                26.225406,
                44.4584354
            ],
            [
                26.1719774,
                44.4584354
            ]
        ],
        "centroid": [
            26.198691699999998,
            44.4783353
        ],
        "area": 18804513.565823916,
        "population": 13697.46,
        "distance": 9258.772141043384
    },
    {
        "coords": [
            [
                26.1719774,
                44.4982352
            ],
            [
                26.1719774,
                44.538035
            ],
            [
                26.225406,
                44.538035
            ],
            [
                26.225406,
                44.4982352
            ],
            [
                26.1719774,
                44.4982352
            ]
        ],
        "centroid": [
            26.198691699999998,
            44.5181351
        ],
        "area": 18804513.565823916,
        "population": 2587.094,
        "distance": 10555.349110703748
    }
];

var parkArea = 1771625.93;
var alfa = 0.85;
var beta = 1.91;

var maxRating = null;

for (var key in areas) {
    var distance = areas[key].distance;
    areas[key].rating = Math.pow(parkArea, alfa) / Math.pow(distance, beta);

    if (maxRating == null || areas[key].rating > maxRating) {
        maxRating = areas[key].rating;
    }
}

for (var key in areas) {
    areas[key].ratingPercentage = areas[key].rating / maxRating * 100;
}

var totalPopulationAccess = 0;
for (var key in areas) {
    totalPopulationAccess += areas[key].population * areas[key].ratingPercentage / 100;
}

console.log(totalPopulationAccess);

for (var key 
console.log(JSON.stringify(areas));
