/**
 * Created by vlad on 12.05.2016.
 */
var areas = [
    {
        "coords": [
            [
                25.958263,
                44.339036
            ],
            [
                25.958263,
                44.3788358
            ],
            [
                26.0116916,
                44.3788358
            ],
            [
                26.0116916,
                44.339036
            ],
            [
                25.958263,
                44.339036
            ]
        ],
        "centroid": [
            25.984977299999997,
            44.3589359
        ],
        "area": 18804513.565823916,
        "population": 4442.044
    },
    {
        "coords": [
            [
                25.958263,
                44.3788358
            ],
            [
                25.958263,
                44.418635599999995
            ],
            [
                26.0116916,
                44.418635599999995
            ],
            [
                26.0116916,
                44.3788358
            ],
            [
                25.958263,
                44.3788358
            ]
        ],
        "area": 18804513.565823916,
        "centroid": [
            25.984977299999997,
            44.398735699999996
        ],
        "population": 18532.51
    },
    {
        "coords": [
            [
                25.958263,
                44.4186356
            ],
            [
                25.958263,
                44.4584354
            ],
            [
                26.0116916,
                44.4584354
            ],
            [
                26.0116916,
                44.4186356
            ],
            [
                25.958263,
                44.4186356
            ]
        ],
        "centroid": [
            25.984977299999997,
            44.4385355
        ],
        "area": 18804513.565823916,
        "population": 59043.93
    },
    {
        "coords": [
            [
                25.958263,
                44.4584354
            ],
            [
                25.958263,
                44.498235199999996
            ],
            [
                26.0116916,
                44.498235199999996
            ],
            [
                26.0116916,
                44.4584354
            ],
            [
                25.958263,
                44.4584354
            ]
        ],
        "centroid": [
            25.984977299999997,
            44.4783353
        ],
        "area": 18804513.565823916,
        "population": 23131.7
    },
    {
        "coords": [
            [
                25.958263,
                44.4982352
            ],
            [
                25.958263,
                44.538035
            ],
            [
                26.0116916,
                44.538035
            ],
            [
                26.0116916,
                44.4982352
            ],
            [
                25.958263,
                44.4982352
            ]
        ],
        "centroid": [
            25.984977299999997,
            44.5181351
        ],
        "area": 18804513.565823916,
        "population": 7705.392
    },
    {
        "coords": [
            [
                26.0116916,
                44.339036
            ],
            [
                26.0116916,
                44.3788358
            ],
            [
                26.0651202,
                44.3788358
            ],
            [
                26.0651202,
                44.339036
            ],
            [
                26.0116916,
                44.339036
            ]
        ],
        "centroid": [
            26.0384059,
            44.3589359
        ],
        "area": 18804513.565823916,
        "population": 2943.559
    },
    {
        "coords": [
            [
                26.0116916,
                44.3788358
            ],
            [
                26.0116916,
                44.418635599999995
            ],
            [
                26.0651202,
                44.418635599999995
            ],
            [
                26.0651202,
                44.3788358
            ],
            [
                26.0116916,
                44.3788358
            ]
        ],
        "centroid": [
            26.0384059,
            44.398735699999996
        ],
        "area": 18804513.565823916,
        "population": 76036.49
    },
    {
        "coords": [
            [
                26.0116916,
                44.4186356
            ],
            [
                26.0116916,
                44.4584354
            ],
            [
                26.0651202,
                44.4584354
            ],
            [
                26.0651202,
                44.4186356
            ],
            [
                26.0116916,
                44.4186356
            ]
        ],
        "centroid": [
            26.0384059,
            44.4385355
        ],
        "area": 18804513.565823916,
        "population": 100840.1
    },
    {
        "coords": [
            [
                26.0116916,
                44.4584354
            ],
            [
                26.0116916,
                44.498235199999996
            ],
            [
                26.0651202,
                44.498235199999996
            ],
            [
                26.0651202,
                44.4584354
            ],
            [
                26.0116916,
                44.4584354
            ]
        ],
        "centroid": [
            26.0384059,
            44.4783353
        ],
        "area": 18804513.565823916,
        "population": 79680.7
    },
    {
        "coords": [
            [
                26.0116916,
                44.4982352
            ],
            [
                26.0116916,
                44.538035
            ],
            [
                26.0651202,
                44.538035
            ],
            [
                26.0651202,
                44.4982352
            ],
            [
                26.0116916,
                44.4982352
            ]
        ],
        "centroid": [
            26.0384059,
            44.5181351
        ],
        "area": 18804513.565823916,
        "population": 3721.506
    },
    {
        "coords": [
            [
                26.0651202,
                44.339036
            ],
            [
                26.0651202,
                44.3788358
            ],
            [
                26.1185488,
                44.3788358
            ],
            [
                26.1185488,
                44.339036
            ],
            [
                26.0651202,
                44.339036
            ]
        ],
        "centroid": [
            26.091834499999997,
            44.3589359
        ],
        "area": 18804513.565823916,
        "population": 97995.6
    },
    {
        "coords": [
            [
                26.0651202,
                44.3788358
            ],
            [
                26.0651202,
                44.418635599999995
            ],
            [
                26.1185488,
                44.418635599999995
            ],
            [
                26.1185488,
                44.3788358
            ],
            [
                26.0651202,
                44.3788358
            ]
        ],
        "centroid": [
            26.091834499999997,
            44.398735699999996
        ],
        "area": 18804513.565823916,
        "population": 126082.6
    },
    {
        "coords": [
            [
                26.0651202,
                44.4186356
            ],
            [
                26.0651202,
                44.4584354
            ],
            [
                26.1185488,
                44.4584354
            ],
            [
                26.1185488,
                44.4186356
            ],
            [
                26.0651202,
                44.4186356
            ]
        ],
        "centroid": [
            26.091834499999997,
            44.4385355
        ],
        "area": 18804513.565823916,
        "population": 125992.8
    },
    {
        "coords": [
            [
                26.0651202,
                44.4584354
            ],
            [
                26.0651202,
                44.498235199999996
            ],
            [
                26.1185488,
                44.498235199999996
            ],
            [
                26.1185488,
                44.4584354
            ],
            [
                26.0651202,
                44.4584354
            ]
        ],
        "centroid": [
            26.091834499999997,
            44.4783353
        ],
        "area": 18804513.565823916,
        "population": 117927
    },
    {
        "coords": [
            [
                26.0651202,
                44.4982352
            ],
            [
                26.0651202,
                44.538035
            ],
            [
                26.1185488,
                44.538035
            ],
            [
                26.1185488,
                44.4982352
            ],
            [
                26.0651202,
                44.4982352
            ]
        ],
        "centroid": [
            26.091834499999997,
            44.5181351
        ],
        "area": 18804513.565823916,
        "population": 38613.63
    },
    {
        "coords": [
            [
                26.1185488,
                44.339036
            ],
            [
                26.1185488,
                44.3788358
            ],
            [
                26.1719774,
                44.3788358
            ],
            [
                26.1719774,
                44.339036
            ],
            [
                26.1185488,
                44.339036
            ]
        ],
        "centroid": [
            26.1452631,
            44.3589359
        ],
        "area": 18804513.565823916,
        "population": 107864.8
    },
    {
        "coords": [
            [
                26.1185488,
                44.3788358
            ],
            [
                26.1185488,
                44.418635599999995
            ],
            [
                26.1719774,
                44.418635599999995
            ],
            [
                26.1719774,
                44.3788358
            ],
            [
                26.1185488,
                44.3788358
            ]
        ],
        "centroid": [
            26.1452631,
            44.398735699999996
        ],
        "area": 18804513.565823916,
        "population": 126082.6
    },
    {
        "coords": [
            [
                26.1185488,
                44.4186356
            ],
            [
                26.1185488,
                44.4584354
            ],
            [
                26.1719774,
                44.4584354
            ],
            [
                26.1719774,
                44.4186356
            ],
            [
                26.1185488,
                44.4186356
            ]
        ],
        "centroid": [
            26.1452631,
            44.4385355
        ],
        "area": 18804513.565823916,
        "population": 124125.3
    },
    {
        "coords": [
            [
                26.1185488,
                44.4584354
            ],
            [
                26.1185488,
                44.498235199999996
            ],
            [
                26.1719774,
                44.498235199999996
            ],
            [
                26.1719774,
                44.4584354
            ],
            [
                26.1185488,
                44.4584354
            ]
        ],
        "centroid": [
            26.1452631,
            44.4783353
        ],
        "area": 18804513.565823916,
        "population": 27331.39
    },
    {
        "coords": [
            [
                26.1185488,
                44.4982352
            ],
            [
                26.1185488,
                44.538035
            ],
            [
                26.1719774,
                44.538035
            ],
            [
                26.1719774,
                44.4982352
            ],
            [
                26.1185488,
                44.4982352
            ]
        ],
        "centroid": [
            26.1452631,
            44.5181351
        ],
        "area": 18804513.565823916,
        "population": 5859.239
    },
    {
        "coords": [
            [
                26.1719774,
                44.339036
            ],
            [
                26.1719774,
                44.3788358
            ],
            [
                26.225406,
                44.3788358
            ],
            [
                26.225406,
                44.339036
            ],
            [
                26.1719774,
                44.339036
            ]
        ],
        "centroid": [
            26.198691699999998,
            44.3589359
        ],
        "area": 18804513.565823916,
        "population": 7398.186
    },
    {
        "coords": [
            [
                26.1719774,
                44.3788358
            ],
            [
                26.1719774,
                44.418635599999995
            ],
            [
                26.225406,
                44.418635599999995
            ],
            [
                26.225406,
                44.3788358
            ],
            [
                26.1719774,
                44.3788358
            ]
        ],
        "centroid": [
            26.198691699999998,
            44.398735699999996
        ],
        "area": 18804513.565823916,
        "population": 111788.1
    },
    {
        "coords": [
            [
                26.1719774,
                44.4186356
            ],
            [
                26.1719774,
                44.4584354
            ],
            [
                26.225406,
                44.4584354
            ],
            [
                26.225406,
                44.4186356
            ],
            [
                26.1719774,
                44.4186356
            ]
        ],
        "centroid": [
            26.198691699999998,
            44.4385355
        ],
        "area": 18804513.565823916,
        "population": 40730.88
    },
    {
        "coords": [
            [
                26.1719774,
                44.4584354
            ],
            [
                26.1719774,
                44.498235199999996
            ],
            [
                26.225406,
                44.498235199999996
            ],
            [
                26.225406,
                44.4584354
            ],
            [
                26.1719774,
                44.4584354
            ]
        ],
        "centroid": [
            26.198691699999998,
            44.4783353
        ],
        "area": 18804513.565823916,
        "population": 13697.46
    },
    {
        "coords": [
            [
                26.1719774,
                44.4982352
            ],
            [
                26.1719774,
                44.538035
            ],
            [
                26.225406,
                44.538035
            ],
            [
                26.225406,
                44.4982352
            ],
            [
                26.1719774,
                44.4982352
            ]
        ],
        "centroid": [
            26.198691699999998,
            44.5181351
        ],
        "area": 18804513.565823916,
        "population": 2587.094
    }
];


var parkCentroid = [26.082330, 44.472073];


function toRad(Value) {
    /** Converts numeric degrees to radians */
    return Value * Math.PI / 180;
}

function calculateDistanceBetweenPoints(p1, p2) {
    var R = 6371000; // metres
    var φ1 = toRad(p1.lat);
    var φ2 = toRad(p2.lat);
    var Δφ = toRad(p2.lat-p1.lat);
    var Δλ = toRad((p2.lng-p1.lng));

    var a = Math.sin(Δφ/2) * Math.sin(Δφ/2) +
        Math.cos(φ1) * Math.cos(φ2) *
        Math.sin(Δλ/2) * Math.sin(Δλ/2);


    var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));

    return R * c;
}

for (var key in areas) {
    areas[key].distance = calculateDistanceBetweenPoints(
        {lat: areas[key]['centroid'][1], lng: areas[key]['centroid'][0]},
        {lat: parkCentroid[1], lng: parkCentroid[0]}
    );
}

console.log(JSON.stringify(areas));